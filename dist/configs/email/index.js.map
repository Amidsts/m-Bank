{"version":3,"file":"index.js","sourceRoot":"src/","sources":["configs/email/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,kDAA0B;AAC1B,2CAA2B;AAC3B,4CAAoB;AAEpB,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,eAAe,EAAE,GAAG,WAAS,CAAC;AACpE,SAAe,QAAQ;yDAAC,EACtB,EAAE,EACF,OAAO,EACP,IAAI,EACJ,IAAI,GAAG,eAAe,GAMvB;QACC,IAAI,CAAC;YACH,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,eAAK,CAAC,IAAI,CAC/B,8BAA8B,aAAa,WAAW,EACtD,YAAE,CAAC,SAAS,CAAC;gBACX,IAAI;gBACJ,EAAE;gBACF,OAAO;gBACP,IAAI;aACL,CAAC,EACF;gBACE,OAAO,EAAE;oBACP,cAAc,EAAE,mCAAmC;iBACpD;gBACD,IAAI,EAAE;oBACJ,QAAQ,EAAE,KAAK;oBACf,QAAQ,EAAE,aAAa;iBACxB;aACF,CACF,CAAC;YAEF,OAAO,IAAI,CAAC;QACd,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,MAAM,KAAK,CAAC;QACd,CAAC;IACH,CAAC;CAAA;AAED,kBAAe,QAAQ,CAAC","sourcesContent":["import axios from \"axios\";\nimport appConfig from \"..\";\nimport qs from \"qs\";\n\nconst { mailgunApiKey, mailgunDomain, mailgunAppEmail } = appConfig;\nasync function sendMail({\n  to,\n  subject,\n  html,\n  from = mailgunAppEmail,\n}: {\n  to: string;\n  subject: string;\n  html: string;\n  from?: string;\n}) {\n  try {\n    const { data } = await axios.post(\n      `https://api.mailgun.net/v3/${mailgunDomain}/messages`,\n      qs.stringify({\n        from,\n        to,\n        subject,\n        html,\n      }),\n      {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        auth: {\n          username: \"api\",\n          password: mailgunApiKey,\n        },\n      }\n    );\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport default sendMail;\n"]}